static def extractProperty(Properties properties, String propertyName) {
    return properties.getProperty(propertyName)
}

def extractProperties(String name) {
    Properties properties = new Properties()
    def propertiesFile = project.file(name)
    if (propertiesFile.exists()) {
        properties.load(propertiesFile.newDataInputStream())
    }
    return properties
}

Properties credentialProperties = extractProperties('credentials.properties')

project.ext {
    keystore_file = extractProperty(credentialProperties, 'keystore_file')
    keystore_password = extractProperty(credentialProperties, 'keystore_password')

    key_alias = extractProperty(credentialProperties, 'key_alias')
    key_password = extractProperty(credentialProperties, 'key_password')
}
